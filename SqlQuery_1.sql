DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'WebApplication17.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '202005052111136_first'
BEGIN
    CREATE TABLE [dbo].[News] (
        [id] [int] NOT NULL IDENTITY,
        [title] [nvarchar](max) NOT NULL,
        [description] [nvarchar](max),
        [mediaPath] [nvarchar](max),
        [isActive] [bit] NOT NULL,
        CONSTRAINT [PK_dbo.News] PRIMARY KEY ([id])
    )
    CREATE TABLE [dbo].[AspNetRoles] (
        [Id] [nvarchar](128) NOT NULL,
        [Name] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetRoles] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [RoleNameIndex] ON [dbo].[AspNetRoles]([Name])
    CREATE TABLE [dbo].[AspNetUserRoles] (
        [UserId] [nvarchar](128) NOT NULL,
        [RoleId] [nvarchar](128) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserRoles]([UserId])
    CREATE INDEX [IX_RoleId] ON [dbo].[AspNetUserRoles]([RoleId])
    CREATE TABLE [dbo].[AspNetUsers] (
        [Id] [nvarchar](128) NOT NULL,
        [Email] [nvarchar](256),
        [EmailConfirmed] [bit] NOT NULL,
        [PasswordHash] [nvarchar](max),
        [SecurityStamp] [nvarchar](max),
        [PhoneNumber] [nvarchar](max),
        [PhoneNumberConfirmed] [bit] NOT NULL,
        [TwoFactorEnabled] [bit] NOT NULL,
        [LockoutEndDateUtc] [datetime],
        [LockoutEnabled] [bit] NOT NULL,
        [AccessFailedCount] [int] NOT NULL,
        [UserName] [nvarchar](256) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUsers] PRIMARY KEY ([Id])
    )
    CREATE UNIQUE INDEX [UserNameIndex] ON [dbo].[AspNetUsers]([UserName])
    CREATE TABLE [dbo].[AspNetUserClaims] (
        [Id] [int] NOT NULL IDENTITY,
        [UserId] [nvarchar](128) NOT NULL,
        [ClaimType] [nvarchar](max),
        [ClaimValue] [nvarchar](max),
        CONSTRAINT [PK_dbo.AspNetUserClaims] PRIMARY KEY ([Id])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserClaims]([UserId])
    CREATE TABLE [dbo].[AspNetUserLogins] (
        [LoginProvider] [nvarchar](128) NOT NULL,
        [ProviderKey] [nvarchar](128) NOT NULL,
        [UserId] [nvarchar](128) NOT NULL,
        CONSTRAINT [PK_dbo.AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey], [UserId])
    )
    CREATE INDEX [IX_UserId] ON [dbo].[AspNetUserLogins]([UserId])
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [dbo].[AspNetRoles] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserRoles] ADD CONSTRAINT [FK_dbo.AspNetUserRoles_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserClaims] ADD CONSTRAINT [FK_dbo.AspNetUserClaims_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    ALTER TABLE [dbo].[AspNetUserLogins] ADD CONSTRAINT [FK_dbo.AspNetUserLogins_dbo.AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [dbo].[AspNetUsers] ([Id]) ON DELETE CASCADE
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'202005052111136_first', N'WebApplication17.Migrations.Configuration',  0x1F8B0800000000000400DD5CDB6EE4B8117D0F907F10F49404DE6E5F329389D1DE85B76D6F1A195F30EDD9E46DC096D86D62244A2B511E1BC17ED93EEC27E517424A949A575D5AEA8B830516D364F154B158248BA52AFFF7B7DF273FBC8481F30C931445F8C23D191DBB0EC45EE423BCBA7033B2FCEE83FBC3F77FFCC3E4DA0F5F9C9F4BBA33464747E2F4C27D22243E1F8F53EF0986201D85C84BA2345A9291178563E047E3D3E3E3BF8F4F4EC69042B814CB71269F324C5008F31FF4E734C21E8C490682DBC88741CADB69CF3C4775EE4008D31878F0C2FD175C5CC671803C40A828277F1B15435CE73240808A3387C1D27500C611C929CE3FA7704E9208AFE6316D00C1E36B0C29DD120429E493385F93B79DCFF1299BCF783DB084F2B294446147C09333AEA0B13A7C2335BB9502A90AAFA9AAC92B9B75AEC60BF70E7EA3EA52199D4F83841159353C62E38E1CB5F7A8B20A6A3CECBF23679A05244BE0058619494070E43C640B3AE09FF0F531FA0AF105CE824014910A49FBA406DAF49044314CC8EB27B8E48223DF75C6F2B8B13AB01A268C29A635C3E4ECD475EE2873B008606501820AE6244AE04F10C30410E83F004260421770E6C35C871A778517A50960C98EDA1CDD43AE730B5E3E42BC224F172EFDA7EBDCA017E8972D5C84CF18D12DC710920C1A44AC67EBC3D44B505C584B6FE6F5BC42E8234015F3B4754E28BDF4087AAEF4F963140510E006ED4CC66B73AFDD04E59A7E8AD892D937C36DB5CF2ED3F80E925139705440DE2414EE5B947C1D8988474EEB71EBFD73DA76FF9C9D2C96671FDEBD07FED9FBBFC2B3779BECA5D9067B69E6D7ACFAC9E9876D1837FB7F0DD7D377EF07E17A079ED12A5F7A853FBD3D127A5A7E8241DE9B3EA1B8B863A4F5FEC2C96E922864BF65FB2A7ABFCCA32CF1D864222BC923485690F434690635BC5997A8876FDA4C52DDBC8DA46C429BEC8492C5AE774329EF76F9B6B638C111601AD9C4A95020F6EA5FBC9533F13A042818E0506CC1857AE64B94D05BBFDB35ACA33D8034A56782FF0F906EDF7798432F4BA8A9CE0908E3AD737B788A30BCCBC205DB01BBE335D8D23C7E8B6E80475DDF6BCC46F5C6FB18795FA38C5C63FF8ABAD19F895702B29F8F286C0F308838979E07D3F4861A33F4A7117D78363D08EAE1D829B56FA7641A00149ABD12E53CFD5292AE3D133385E69D58C84C1E4A9DA81FA315C2ED442D49EDA216148DA272B2AEA232B07692724ABBA03941A39C05D5603E5FBE42C33B7D39ECE17B7DFD2EEFED0707F6E532E6CBC7986EFD6ECA39FD0C826C68561BED86FC10187E37E4B087BF1B723169F333F29957D2E229541253F856F4E65756F39E5324DBF57690A6B96BE6BB39036CDBE5324D230FE5BBC01004E3210C597EEAC339CDF18C62366A4C844E8C1A3A62571E6DA1737355A3BAC7573080043A2CD2C722E553907AC0D7D54827E47710ACBC510D82AD6323B2707FD178524B87091B04D82328A53B1561A26F0B843D1483A0514BCAC89657189B7BC543EDB98231C48C61A326DA303787429800151F65519A3434190B16576F8816AFD5B6E64D2EEC7ADDB508C54E6CB2C177B6D825F7DFB66298F51ADB8171D6ABA48D00D6B0DE3E0C94BF55DA1A80FA70393403555E4C1603E52ED54E0C54D6D81E0C5456C99B33D0E289DA76FD95F7EAA199A7FC50DEFDB55EABAE3DD8A6A48F0333CDC2F7A463081D0113DD3CAF16AC13BE10C3E38CCAC9DF67297775551361E07348382CCE5319D6EE2E378B22C3615C3F960771B4C1B20FDB00A21A601DE0DA481B40F9C7440D48DB8C1D842BE380B5D2710FA4036C19B3AB85E5F786022BD88F8E2D7E541508ED9F5E55C36EF572A966565983B6415A3D34041C8341A8079F3CF1164AB1C57475C5B4F1A3BB78D2C2C4F862D428A8C1EBB528A99CCCE05A2A4DB3594B2667AE8B3BD74B4B8AEB65D1523999C1B5C46DB459490687A2834BD14B45F2F53FD0662BA324D54D55F54DC645D6216F988C2DE989935B10C708AF847445DEE2CC8B5CC5E977F3EEF97B618131F652431A5F256DC58944095841A597B2A692DEA02425578080056031A2A91F6A64C67BD972FC972C85AB575FC3F21A2889D9BF8B0175698506278603DCD0D985CC13CAC3EFC2DA9B87392C6514042031A4014EA3200BB12D95B06E344FEC130178537B0C294B4F44923ADAE3099978229AD0DC1E6B9D6B27E9A86AD5912663657D34C7523305CDFD97CDAA95D1D90EA1EE56277979DDADAF7EB84DCF33C50A4D2EB97D74F1D5591C5FB41CCCEAE8C7F1902B55B9CF9BAF961DC2A6F3F2E1246ADDF698B2A394B15511C5166FDDDBEAD9FCE8EE2BA6BE53BA2F5823C27676184FAC12017853470C2137470313FADAA3CAE95322A6DCD31E51C991122195AE0E528A9950929062C74678168D9A29DA73D0739F4474BDB73DB2210B4A8436746F806D9059ED6B8F6A489412810DDDEDB1D75953EA497AC07798F5F5DCEF122BA22CFD6E310BC6768EC5612E4121114504129A3B62F154130D8CB71FA44959430DFD4CAA88B0F533290B86FD0C92F238E423A836F9C48E29256748C77C5D728A1DAF9BE16ED53CB470834A5271AFC20E4A7861C29FFACD2592DADBBF20719D528DF48A7F4D090C478C6034FF25980608B203BD24B805182D614A8A8424F7F4F8E45429B03C9C62C7719AFA812154A2563CCA6BB5838243C434DA9835D8318588883586F81924DE1348FE1482973F0F51376805DCA836B0179A5AFFB740642BB57F1B9845BF54D3522B7AE2578FD2B835A8F64D6D867DF872E1FE271F759E8758D9BFF2E62367967EC6E8978C763CD245717ED513D987D5794D715A25E8AF6FA2EAABBDCA67FFFE520C3D72EE137ABA9E3BC78AA237597EB916AC9334C5D01ED26C5C21F676779B547465445576CBE63556CD479D8E64AAAFEA75FE1A6BA87A211AEAA486C21B4485B63AA84DB0AC35503EFD49F21AA86E9335D7446D229AB51E2AF7577A5643B53F86CA917BBC870C8FE85D1C495BF10B0FEB6ED28A4E7A6D74BDB0A403DCA0C523FD5C9437569431D8D569A8B9180C7B9F76BFF5428B43A9AD583BEDFB2DA9D8651545CDE7C6FFABE2890348F735A420EEBF4462D7B666FB2A70E079E6DD0A210ECCD8F835BFFF72875D1B9BED7BC1811B5BA7A28603B3B57DDD9F7BB6B4D657E8DE4B14F48C497559E534F8BBBADA83E28B0B7DEE2F22BAE88507D9AA2A41F6F23474B9DBC4A5A8473767C3DA98AD4DD0CA704D62676A4FC355196BDB51E3AB51D4B3ED3657EE46D44E96D3D4B3B524AFD7F1E6B74A2D6F4E53CFDB9212BE8FB20A6352B6A9D4A5E174AC4BD97B4B6514D24C1AAA769A3CE1DA0490B75435318852A4DD634961783B451283A864C8ADD3A12842CF46A037B2F0679DA95790A2D51A82FD91670C3DE92EAE68667819952E81225149A2C47D6E21013EBDA82F138296C023B49B85B5F33FA891870AD9C79505F467F83E237146E89461B808A4301A732DEAF8E7951FB2CC93FBFC7B793AC414A898887D0EB8C73F6628F02BB96F0C91260B04F359781099AD2561C1E4D56B857417E196405C7D95ABF508C338A060E93D9E03F611BEBB6CD4FC3EC215F05ED771451B48F342C86A9F5C21B04A4098728CF578FA93DAB01FBE7CFF3F6B1E6D20DD5C0000 , N'6.2.0-61023')
END

